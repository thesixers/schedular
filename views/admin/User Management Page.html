<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Management</title>
  <link rel="stylesheet" href="/public/style/admin.css">
</head>
<body>
  <div class="user-management-container">
    <header class="admin-navbar">
      <div class="admin-logo">User Management</div>
      <div class="admin-profile">
        <img src="path/to/user-picture.jpg" alt="Admin Profile Picture" class="admin-user-picture">
        <ul class="nav-menu">
            <li><a href="#" id="viewAdminProfile">Admin Profile</a></li>
            <!-- Add other nav items here -->
          </ul>
        <button class="admin-logout-button">Logout</button>
      </div>
    </header>

    <div class="user-management-content">
      <div class="search-filter">
        <input type="text" placeholder="Search by name or email" class="search-input">
        <button class="filter-button">Filter</button>
      </div>

      <div class="user-list">
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Email</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <!-- Example User Row -->
            <tr>
              <td>Jane Doe</td>
              <td>jane.doe@example.com</td>
              <td>Active</td>
              <td>
                <button class="view-activity-button">View Activity</button>
                <button class="edit-button" onclick="showUserDetailsPopup({name: 'Jane Doe', email: 'jane.doe@example.com', status: 'Active'})">Edit</button>
                <button class="remove-button">Remove</button>
              </td>
            </tr>
            <!-- Add more rows as needed -->
          </tbody>
        </table>
      </div>
    </div>

    <!-- Pop-up for User Activity -->
    <div class="popup-overlay" id="popupOverlay">
      <div class="popup-content">
        <span class="close-btn" id="closeBtn">&times;</span>
        <h2>User Activity</h2>
        <div class="activity-log">
          <!-- Example User Activity Log -->
          <p><strong>Date:</strong> 2024-08-25</p>
          <p><strong>Action:</strong> Logged in</p>
          <p><strong>Details:</strong> User accessed the dashboard.</p>
          <!-- Add more activity logs here -->
        </div>
      </div>
    </div>

    <!-- User Details Pop-up -->
    <div class="popup-overlay" id="userActivityPopup">
      <div class="popup-content">
        <span class="close-btn" id="closePopup">&times;</span>
        <h2>User Details</h2>
        <div class="user-details">
          <p><strong>Name:</strong> <span id="userName">John Doe</span></p>
          <p><strong>Email:</strong> <span id="userEmail">john.doe@example.com</span></p>
          <p><strong>Status:</strong> <span id="userStatus">Active</span></p>
        </div>
        <div class="popup-actions">
          <button class="notify-btn" id="openNotificationForm">Send Notification</button>
          <button class="admin-btn" id="makeAdmin">Make Admin</button>
        </div>
      </div>
    </div>

    <!-- Notification Form Pop-up -->
    <div class="popup-overlay" id="notificationFormPopup">
      <div class="popup-content">
        <span class="close-btn" id="closeNotificationForm">&times;</span>
        <h2>Send Notification</h2>
        <form id="notificationForm">
          <textarea id="notificationMessage" placeholder="Enter your message here..." rows="4" required></textarea>
          <button type="submit" class="send-btn">Send</button>
        </form>
      </div>
    </div>

    <!-- Admin Profile Pop-up -->
    <div class="popup-overlay" id="adminProfilePopup">
      <div class="popup-content">
        <span class="close-btn" id="closeAdminProfile">&times;</span>
        <h2>Admin Profile</h2>
        <div class="admin-profile-details">
          <p><strong>Name:</strong> <span id="adminName">Admin Name</span></p>
          <p><strong>Email:</strong> <span id="adminEmail">admin@example.com</span></p>
          <p><strong>Status:</strong> <span id="adminStatus">Administrator</span></p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // script.js

    document.addEventListener('DOMContentLoaded', function() {
      const viewActivityButtons = document.querySelectorAll('.view-activity-button');
      const popupOverlay = document.getElementById('popupOverlay');
      const closeBtn = document.getElementById('closeBtn');
      const userActivityPopup = document.getElementById('userActivityPopup');
      const closePopup = document.getElementById('closePopup');
      const openNotificationForm = document.getElementById('openNotificationForm');
      const notificationFormPopup = document.getElementById('notificationFormPopup');
      const closeNotificationForm = document.getElementById('closeNotificationForm');
      const viewAdminProfile = document.getElementById('viewAdminProfile');
      const adminProfilePopup = document.getElementById('adminProfilePopup');
      const closeAdminProfile = document.getElementById('closeAdminProfile');

      // Show pop-up when "View Activity" button is clicked
      viewActivityButtons.forEach(button => {
        button.addEventListener('click', function() {
          popupOverlay.style.display = 'flex';
        });
      });

      // Hide pop-up when close button is clicked
      closeBtn.addEventListener('click', function() {
        popupOverlay.style.display = 'none';
      });

      // Hide pop-up when clicking outside the content area
      popupOverlay.addEventListener('click', function(event) {
        if (event.target === popupOverlay) {
          popupOverlay.style.display = 'none';
        }
      });

      // Show the user details pop-up
      window.showUserDetailsPopup = function(user) {
        // Set user details
        document.getElementById('userName').textContent = user.name;
        document.getElementById('userEmail').textContent = user.email;
        document.getElementById('userStatus').textContent = user.status;

        // Show the user details pop-up
        userActivityPopup.style.display = 'flex';
      }

      // Close the user details pop-up
      closePopup.addEventListener('click', function() {
        userActivityPopup.style.display = 'none';
      });

      // Open notification form pop-up
      openNotificationForm.addEventListener('click', function() {
        notificationFormPopup.style.display = 'flex';
      });

      // Close notification form pop-up
      closeNotificationForm.addEventListener('click', function() {
        notificationFormPopup.style.display = 'none';
      });

      // Handle sending a notification
      document.getElementById('notificationForm').addEventListener('submit', function(event) {
        event.preventDefault();
        // Logic to send a notification
        alert('Notification sent: ' + document.getElementById('notificationMessage').value);
        // Close the notification form pop-up
        notificationFormPopup.style.display = 'none';
      });

      // Handle making a user an admin
      document.getElementById('makeAdmin').addEventListener('click', function() {
        // Logic to make the user an admin
        alert(document.getElementById('userName').textContent + ' has been promoted to admin.');
      });

      // Open admin profile pop-up
      viewAdminProfile.addEventListener('click', function() {
        adminProfilePopup.style.display = 'flex';
      });

      // Close admin profile pop-up
      closeAdminProfile.addEventListener('click', function() {
        adminProfilePopup.style.display = 'none';
      });
    });
  </script>
</body>
</html>
